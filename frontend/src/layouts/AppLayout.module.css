/* /src/layouts/AppLayout.module.css */

/* background rain container */
.bg {
  position: absolute;
  inset: 0;
  z-index: 0; /* rain is the very back */
  pointer-events: none;
}

/* main content wrapper */
.content {
  position: relative;
  z-index: 2; /* text/UI always above effects */
}

.main {
  position: relative;
  z-index: 2;
  padding: var(--space-6, 1.5rem) 0 var(--space-5, 1.25rem);
}

/* ===== base grid overlay ===== */
.shell::before {
  content: "";
  position: fixed;
  inset: 0;

  --gridline: rgba(255, 255, 255, 0.025);

  background-image:
    linear-gradient(transparent 24px, var(--gridline) 25px),
    linear-gradient(90deg, transparent 24px, var(--gridline) 25px);
  background-size: 26px 26px;

  mask-image: radial-gradient(
    80% 70% at 50% 50%,
    rgba(0, 0, 0, 0.95),
    rgba(0, 0, 0, 0.05)
  );

  pointer-events: none;
  z-index: 1; /* above rain, below text */
}

/* ===== sweep highlight over grid ===== */
.shell::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 1; /* same as grid, still behind text */
  pointer-events: none;

  --highlight: rgba(110, 255, 170, 0.25); /* dimmer neon */
  --speed: 9s;

  background-image:
    linear-gradient(transparent 24px, var(--highlight) 25px),
    linear-gradient(90deg, transparent 24px, var(--highlight) 25px);
  background-size: 26px 26px;

  mask-image: linear-gradient(
    to top,
    transparent 0%,
    transparent 15%,
    black 50%,
    transparent 65%,
    transparent 100%
  );
  mask-repeat: no-repeat;
  mask-size: 100% 200%;
  mask-position: 0 120%;

  animation: sweepHighlight var(--speed) ease-in-out infinite;

  mix-blend-mode: screen; /* glow effect */
  opacity: 0.6; /* extra dim */
}

@keyframes sweepHighlight {
  0%   { mask-position: 0 120%; }
  100% { mask-position: 0 -20%; }
}

/* reduced motion fallback */
@media (prefers-reduced-motion: reduce) {
  .shell::after {
    animation: none;
    mask-position: 0 50%;
  }
}
